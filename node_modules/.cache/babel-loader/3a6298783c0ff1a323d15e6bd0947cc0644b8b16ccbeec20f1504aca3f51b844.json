{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import api from\"../Api\";import{useNavigate}from\"react-router-dom\";import{useAuth}from\"./AuthContext\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Home=()=>{const navigate=useNavigate();const[jokes,setJokes]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const{isAuthenticated}=useAuth();const color=[\"skyblue\",\"lightgrey\",\"rgb(199, 157, 17)\"];const fetchQuote=async()=>{try{var _response$data,_response$data$data;const response=await api.get(\"/public/quotes\");setJokes((_response$data=response.data)===null||_response$data===void 0?void 0:(_response$data$data=_response$data.data)===null||_response$data$data===void 0?void 0:_response$data$data.data);setLoading(false);}catch(error){setError(error.response?error.response.data:error.message);setLoading(false);}};useEffect(()=>{if(!isAuthenticated){navigate(\"/login\");}else{fetchQuote();}},[isAuthenticated,navigate]);console.log({error});if(loading)return/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"});console.log({jokes});return/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"ms-5\",children:\" Quotes\"}),\"\\xA0\",/*#__PURE__*/_jsx(\"ul\",{className:\"mx-5\",style:{listStyleType:\"none\"},children:jokes===null||jokes===void 0?void 0:jokes.map((joke,index)=>/*#__PURE__*/_jsx(\"li\",{className:\"p-3 mb-4\",style:{backgroundColor:`${color[index%3]}`},children:joke===null||joke===void 0?void 0:joke.content},index))})]});};export default Home;","map":{"version":3,"names":["React","useEffect","useState","api","useNavigate","useAuth","jsx","_jsx","jsxs","_jsxs","Home","navigate","jokes","setJokes","loading","setLoading","error","setError","isAuthenticated","color","fetchQuote","_response$data","_response$data$data","response","get","data","message","console","log","children","className","style","listStyleType","map","joke","index","backgroundColor","content"],"sources":["C:/Users/AIPL/Desktop/New folder/assign/src/components/Home.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport api from \"../Api\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useAuth } from \"./AuthContext\";\r\n\r\nconst Home = () => {\r\n  const navigate = useNavigate();\r\n  const [jokes, setJokes] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const { isAuthenticated } = useAuth();\r\n\r\n  const color = [\"skyblue\", \"lightgrey\", \"rgb(199, 157, 17)\"];\r\n\r\n  const fetchQuote = async () => {\r\n    try {\r\n      const response = await api.get(\"/public/quotes\");\r\n      setJokes(response.data?.data?.data);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      setError(error.response ? error.response.data : error.message);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  \r\n  useEffect(() => {\r\n    if (!isAuthenticated) {\r\n      navigate(\"/login\");  \r\n    } else {\r\n      fetchQuote();  \r\n    }\r\n  }, [isAuthenticated, navigate]);\r\n\r\n  console.log({ error });\r\n\r\n  if (loading) return <p>Loading...</p>;\r\n\r\n  console.log({ jokes });\r\n\r\n  return (\r\n    <div className=\"mt-3\">\r\n      <h1 className=\"ms-5\"> Quotes</h1>Â \r\n      <ul className=\"mx-5\" style={{ listStyleType: \"none\" }}>\r\n        {jokes?.map((joke: any, index) => (\r\n          <li\r\n            className=\"p-3 mb-4\"\r\n            key={index}\r\n            style={{ backgroundColor: `${color[index % 3]}` }}\r\n          >\r\n            {joke?.content}\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,GAAG,KAAM,QAAQ,CACxB,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,OAAO,KAAQ,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAExC,KAAM,CAAAC,IAAI,CAAGA,CAAA,GAAM,CACjB,KAAM,CAAAC,QAAQ,CAAGP,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACQ,KAAK,CAAEC,QAAQ,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACY,OAAO,CAAEC,UAAU,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACc,KAAK,CAAEC,QAAQ,CAAC,CAAGf,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAAEgB,eAAgB,CAAC,CAAGb,OAAO,CAAC,CAAC,CAErC,KAAM,CAAAc,KAAK,CAAG,CAAC,SAAS,CAAE,WAAW,CAAE,mBAAmB,CAAC,CAE3D,KAAM,CAAAC,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,KAAAC,cAAA,CAAAC,mBAAA,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAApB,GAAG,CAACqB,GAAG,CAAC,gBAAgB,CAAC,CAChDX,QAAQ,EAAAQ,cAAA,CAACE,QAAQ,CAACE,IAAI,UAAAJ,cAAA,kBAAAC,mBAAA,CAAbD,cAAA,CAAeI,IAAI,UAAAH,mBAAA,iBAAnBA,mBAAA,CAAqBG,IAAI,CAAC,CACnCV,UAAU,CAAC,KAAK,CAAC,CACnB,CAAE,MAAOC,KAAK,CAAE,CACdC,QAAQ,CAACD,KAAK,CAACO,QAAQ,CAAGP,KAAK,CAACO,QAAQ,CAACE,IAAI,CAAGT,KAAK,CAACU,OAAO,CAAC,CAC9DX,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAGDd,SAAS,CAAC,IAAM,CACd,GAAI,CAACiB,eAAe,CAAE,CACpBP,QAAQ,CAAC,QAAQ,CAAC,CACpB,CAAC,IAAM,CACLS,UAAU,CAAC,CAAC,CACd,CACF,CAAC,CAAE,CAACF,eAAe,CAAEP,QAAQ,CAAC,CAAC,CAE/BgB,OAAO,CAACC,GAAG,CAAC,CAAEZ,KAAM,CAAC,CAAC,CAEtB,GAAIF,OAAO,CAAE,mBAAOP,IAAA,MAAAsB,QAAA,CAAG,YAAU,CAAG,CAAC,CAErCF,OAAO,CAACC,GAAG,CAAC,CAAEhB,KAAM,CAAC,CAAC,CAEtB,mBACEH,KAAA,QAAKqB,SAAS,CAAC,MAAM,CAAAD,QAAA,eACnBtB,IAAA,OAAIuB,SAAS,CAAC,MAAM,CAAAD,QAAA,CAAC,SAAO,CAAI,CAAC,OACjC,cAAAtB,IAAA,OAAIuB,SAAS,CAAC,MAAM,CAACC,KAAK,CAAE,CAAEC,aAAa,CAAE,MAAO,CAAE,CAAAH,QAAA,CACnDjB,KAAK,SAALA,KAAK,iBAALA,KAAK,CAAEqB,GAAG,CAAC,CAACC,IAAS,CAAEC,KAAK,gBAC3B5B,IAAA,OACEuB,SAAS,CAAC,UAAU,CAEpBC,KAAK,CAAE,CAAEK,eAAe,CAAE,GAAGjB,KAAK,CAACgB,KAAK,CAAG,CAAC,CAAC,EAAG,CAAE,CAAAN,QAAA,CAEjDK,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEG,OAAO,EAHTF,KAIH,CACL,CAAC,CACA,CAAC,EACF,CAAC,CAEV,CAAC,CAED,cAAe,CAAAzB,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}